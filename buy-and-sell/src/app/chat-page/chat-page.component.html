<!-- Back button -->
<div>
    <button class="ml-auto" (click)="goBack()">← Back</button>
</div>
<div class="chat-container">

    <div *ngFor="let msg of messages" class="chat-message"
        [ngClass]="{
    'received': isRecipientView ? msg.senderEmail !== recipientEmail : msg.senderEmail === senderEmail,
    'sent': isRecipientView ? msg.senderEmail === recipientEmail : msg.senderEmail !== senderEmail
  }">
        <p><strong>{{ msg.senderEmail }}</strong>: {{ msg.message }}</p>
        <small>{{ msg.timestamp | date:'short' }}</small>
    </div>

    <!--  Message input -->
    <div class="message-input mt-3">
        <input [(ngModel)]="newMessage" placeholder="Type a message..." class="form-control" />
        <button class="ml-auto" (click)="sendMessage()">Send</button>
    </div>
</div>